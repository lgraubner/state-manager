/**
 * StateManager - v3.1.0
 * Javascript handling for mediaquery breakpoints.
 * https://github.com/lgraubner/state-manager
 *
 * Copyright Lars Graubner <mail@larsgraubner.de>
 * Under MIT License
 */
window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),i="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var t=window.matchMedia,e=t("only all").matches,n=!1,i=0,r=[],a=function(e){clearTimeout(i),i=setTimeout(function(){for(var e=0,n=r.length;n>e;e++){var i=r[e].mql,a=r[e].listeners||[],c=t(i.media).matches;if(c!==i.matches){i.matches=c;for(var o=0,u=a.length;u>o;o++)a[o].call(window,i)}}},30)};window.matchMedia=function(i){var c=t(i),o=[],u=0;return c.addListener=function(t){e&&(n||(n=!0,window.addEventListener("resize",a,!0)),0===u&&(u=r.push({mql:c,listeners:o})),o.push(t))},c.removeListener=function(t){for(var e=0,n=o.length;n>e;e++)o[e]===t&&o.splice(e,1)},c}}();var StateManager=function(t,e,n,i){"use strict";var r,a,c=[],o=[],u=function(t,e,n){var i;return function(){var r=this,a=arguments,c=function(){i=null,n||t.apply(r,a)},o=n&&!i;clearTimeout(i),i=setTimeout(c,e),o&&t.apply(r,a)}},s=function(){var t,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(t=0;5>t;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},m=function(t){var e=t.mq,i=t.handler,a=l(e),c=d(t);!c&&a?(n.isFunction(i)&&i.apply(r),n.isFunction(i.match)&&i.match.apply(r),n.isArray(i.match)&&n.each(i.match,function(){this.apply(r)}),o.push(t.key)):c&&!a&&(n.isFunction(i.unmatch)&&i.unmatch.apply(r),n.isArray(i.unmatch)&&n.each(i.unmatch,function(){this.apply(r)}),o=n.grep(o,function(e){return e!=t.key}))},h=function(){n.each(c,function(t,e){m(e)})},d=function(t){return-1===n.inArray(t.key,o)?!1:!0},l=function(e){return t.matchMedia(e).matches},f=function(t,e){var n={key:s(),mq:t,handler:e};return c.push(n),m(n),n},p=function(t){o=n.grep(o,function(e){return e!=t.key}),c=n.grep(c,function(e){return e.key!=t.key})},y=function(){a.off("resize.sm"),c=[],o=[]},w=function(e){if(!t.matchMedia)throw new Error("matchMedia is not supported. Please visit: https://github.com/lgraubner/state-manager#supported-browsers");r=e||this,a=n(t),a.on("resize.sm",u(h,100))};return w.prototype={register:f,deregister:p,destroy:y},w}(this,document,jQuery);