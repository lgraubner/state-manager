/**
 * StateManager v3.2.1 - Javascript handling for mediaquery breakpoints.
 * Copyright 2015 Lars Graubner - https://github.com/lgraubner/state-manager
 * License: MIT
 */
window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var t=window.matchMedia,e=t("only all").matches,i=!1,n=0,a=[],r=function(e){clearTimeout(n),n=setTimeout(function(){for(var e=0,i=a.length;i>e;e++){var n=a[e].mql,r=a[e].listeners||[],c=t(n.media).matches;if(c!==n.matches){n.matches=c;for(var s=0,o=r.length;o>s;s++)r[s].call(window,n)}}},30)};window.matchMedia=function(n){var c=t(n),s=[],o=0;return c.addListener=function(t){e&&(i||(i=!0,window.addEventListener("resize",r,!0)),0===o&&(o=a.push({mql:c,listeners:s})),s.push(t))},c.removeListener=function(t){for(var e=0,i=s.length;i>e;e++)s[e]===t&&s.splice(e,1)},c}}();var StateManager=function(t,e,i){"use strict";function n(t,e){var i;for(i=0;i<t.length;i++)e(t[i],i)}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}var c=function(e,i,n){this.mq=e,this.handler=i,this.context=n;var a=this;this.matchMedia=t.matchMedia(e),this.listenerFunction=function(t){t.matches?a.matchCallback():a.unmatchCallback()},this.matchMedia.addListener(this.listenerFunction),this.matchMedia.matches&&this.matchCallback()};c.prototype.matchCallback=function(){var t=this.handler,e=this;r(t)?t.apply(this.context):(r(t.match)&&t.match.apply(this.context),a(t.match)&&n(t.match,function(t){t.apply(e.context)}))},c.prototype.unmatchCallback=function(){var t=this.handler,e=this;r(t.unmatch)&&t.unmatch.apply(this.context),a(t.match)&&n(t.unmatch,function(t){t.apply(e.context)})},c.prototype.destroy=function(){this.matchMedia.removeListener(this.listenerFunction),this.matchMedia=i,this.context=i,this.mq=i,this.handler=i};var s=function(e){if(!t.matchMedia)throw new Error("matchMedia is not supported. Please visit: https://github.com/lgraubner/state-manager#supported-browsers");this.queries=[],this.context=e||t};return s.prototype.register=function(t,e){var i=new c(t,e,this.context);return this.queries.push(i),i},s.prototype.deregister=function(t){t.destroy();var e=[];n(this.queries,function(i){i!==t&&e.push(i)}),this.queries=e},s.prototype.destroy=function(){var t=this;n(this.queries,function(e){t.deregister(e)}),this.context=i},s}(this,document);